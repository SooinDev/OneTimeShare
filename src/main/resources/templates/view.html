<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>공유된 데이터</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
  <header>
    <h1>🔒 일회성 데이터 공유</h1>
  </header>

  <div class="view-container">
    <div class="success-icon">✓</div>
    <h3>공유된 데이터</h3>

    <div class="warning-box">
      ⚠️ 이 페이지를 떠나면 데이터가 영구적으로 삭제됩니다.
    </div>

    <div th:if="${response.dataType != 'FILE'}" class="content-box">
      <div class="content-header">
        <span th:text="${response.dataType == 'PASSWORD' ? '비밀번호' : '텍스트'}"></span>
        <button type="button" class="copy-content-btn" th:attr="data-content=${response.content}">
          복사
        </button>
      </div>
      <pre th:text="${response.content}"></pre>
    </div>

    <div th:if="${response.dataType == 'FILE'}" class="file-download-box">
      <div class="file-icon">📄</div>
      <div class="file-details">
        <h4 th:text="${response.fileName}"></h4>
        <p th:text="${response.fileType}"></p>
      </div>
      <button type="button" class="download-btn"
              th:attr="data-filename=${response.fileName},
                                data-filetype=${response.fileType},
                                data-filedata=${response.fileData}">
        다운로드
      </button>
    </div>

    <a href="/" class="secondary-btn">새 공유 만들기</a>
  </div>
</div>

<script th:src="@{/js/app.js}"></script>
</body>
</html>